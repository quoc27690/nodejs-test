extends ../../layouts/common

block content

  h1 Transactions

  h4
    a(href="/", class='btn btn-primary') Back Home

  h4
    a(href="/transactions/create", class='btn btn-primary') Create New A Transaction

  .container 
    .row.justify-content-around
      each transaction in transactions
        .card(class='col-md-4 mt-3')
          img.card-img-top(src='https://loremflickr.com/320/240/dog', alt='Card image cap')
          .card-body
            h5.card-title= transaction.userName
            h4.card-text= transaction.bookTitle
            if !transaction.isComplete
              a(href="/transactions/" + transaction.id + '/complete', class='btn btn-warning mr-3') Not complete
            else 
              a(class='btn btn-success mr-3') Completed
            a(href="/transactions/" + transaction.id + '/edit', class='btn btn-primary mr-3') Edit
            a(href="/transactions/" + transaction.id + "/delete", class='btn btn-info') Delete
  br
  nav.mt-3
    ul.pagination.justify-content-center
      li.page-item
          a.page-link(href='/transactions?page=1') First
      li.page-item(class= page === 1 ? 'disabled' : '')
        a.page-link(href='/transactions?page=' + (page - 1)) &laquo
      if (page === 1 || page === 2) 
        - for (let i = 1; i <= 3; i++)
          li.page-item(class= page === i ? 'active' : '')
            a.page-link(href='/transactions?page=' + i)= i
      else if (page == numberPage -1 || page == numberPage)
        - for (let i = 2; i >= 0; i--)
          li.page-item(class= page === (numberPage - i) ? 'active' : '')
            a.page-link(href='/transactions?page=' + (numberPage - i))= numberPage - i
      else      
        - for (let i = page - 1; i <= page + 1; i++)
            li.page-item(class= page === i ? 'active' : '')
              a.page-link(href='/transactions?page=' + i)= i
      li.page-item(class= page === numberPage ? 'disabled' : '')
        a.page-link(href='/transactions?page=' + (page + 1)) &raquo
      li.page-item
          a.page-link(href='/transactions?page=' + numberPage) Last
    